<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test sc√©n√°≈ô≈Ø - Volebn√≠ kalkulaƒçka</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .scenario {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .scenario h2 {
            color: #333;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
        }
        .dimensions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        .dimension {
            padding: 10px;
            background: #f9f9f9;
            border-radius: 5px;
        }
        .dimension-name {
            font-weight: bold;
            color: #555;
        }
        .dimension-value {
            font-size: 1.2em;
            color: #2196F3;
        }
        .expected-position {
            background: #e8f5e9;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        button:hover {
            background: #45a049;
        }
        .results {
            margin-top: 20px;
            padding: 15px;
            background: #fff3cd;
            border-radius: 5px;
            display: none;
        }
    </style>
</head>
<body>
    <h1>Test sc√©n√°≈ô≈Ø politick√©ho kompasu</h1>
    
    <div class="scenario">
        <h2>üî• Sc√©n√°≈ô 1: Libertari√°n</h2>
        <p><strong>Popis:</strong> Maxim√°ln√≠ osobn√≠ i ekonomick√° svoboda, minim√°ln√≠ st√°t, proti regulac√≠m</p>
        <div class="dimensions">
            <div class="dimension">
                <span class="dimension-name">Ekonomika:</span>
                <span class="dimension-value">-1.5 (voln√Ω trh)</span>
            </div>
            <div class="dimension">
                <span class="dimension-name">Role st√°tu:</span>
                <span class="dimension-value">-1.5 (minim√°ln√≠)</span>
            </div>
            <div class="dimension">
                <span class="dimension-name">Spoleƒçnost:</span>
                <span class="dimension-value">-1.0 (liber√°ln√≠)</span>
            </div>
            <div class="dimension">
                <span class="dimension-name">Suverenita:</span>
                <span class="dimension-value">0.0 (neutr√°ln√≠)</span>
            </div>
        </div>
        <div class="expected-position">
            <strong>Oƒçek√°van√° pozice:</strong><br>
            ‚Ä¢ Kvadrant 1 (Eko√óSt√°t): Lev√Ω horn√≠ roh (voln√Ω trh + minim√°ln√≠ st√°t)<br>
            ‚Ä¢ Kvadrant 2 (Spoleƒçnost√óSuverenita): Lev√Ω st≈ôed (liber√°ln√≠ + neutr√°ln√≠)<br>
            ‚Ä¢ Kvadrant 3 (Eko√óSpoleƒçnost): Lev√Ω horn√≠ roh (voln√Ω trh + liber√°ln√≠)<br>
            ‚Ä¢ Kvadrant 4 (St√°t√óSuverenita): Lev√Ω st≈ôed (minim√°ln√≠ st√°t + neutr√°ln√≠)
        </div>
        <button onclick="testScenario('libertarian')">Otestovat libertari√°na</button>
    </div>

    <div class="scenario">
        <h2>üá®üáø Sc√©n√°≈ô 2: N√°rodn√≠ konzervativec (typ SPD)</h2>
        <p><strong>Popis:</strong> Siln√Ω st√°t, n√°rodn√≠ suverenita, tradiƒçn√≠ hodnoty, soci√°ln√≠ politika</p>
        <div class="dimensions">
            <div class="dimension">
                <span class="dimension-name">Ekonomika:</span>
                <span class="dimension-value">0.6 (m√≠rnƒõ st√°tn√≠)</span>
            </div>
            <div class="dimension">
                <span class="dimension-name">Role st√°tu:</span>
                <span class="dimension-value">1.1 (siln√Ω)</span>
            </div>
            <div class="dimension">
                <span class="dimension-name">Spoleƒçnost:</span>
                <span class="dimension-value">1.2 (konzervativn√≠)</span>
            </div>
            <div class="dimension">
                <span class="dimension-name">Suverenita:</span>
                <span class="dimension-value">2.0 (n√°rodn√≠)</span>
            </div>
        </div>
        <div class="expected-position">
            <strong>Oƒçek√°van√° pozice:</strong><br>
            ‚Ä¢ Kvadrant 1 (Eko√óSt√°t): Prav√Ω doln√≠ kvadrant (st√°tn√≠ kontrola + siln√Ω st√°t)<br>
            ‚Ä¢ Kvadrant 2 (Spoleƒçnost√óSuverenita): Prav√Ω doln√≠ roh (konzervativn√≠ + n√°rodn√≠)<br>
            ‚Ä¢ Kvadrant 3 (Eko√óSpoleƒçnost): Prav√Ω doln√≠ kvadrant (st√°tn√≠ + konzervativn√≠)<br>
            ‚Ä¢ Kvadrant 4 (St√°t√óSuverenita): Prav√Ω doln√≠ kvadrant (siln√Ω st√°t + n√°rodn√≠)
        </div>
        <button onclick="testScenario('conservative')">Otestovat konzervativce</button>
    </div>

    <div class="scenario">
        <h2>‚öñÔ∏è Sc√©n√°≈ô 3: Levicov√Ω centrista</h2>
        <p><strong>Popis:</strong> Soci√°ln√≠ st√°t, um√≠rnƒõn√© hodnoty, pro-evropsk√Ω</p>
        <div class="dimensions">
            <div class="dimension">
                <span class="dimension-name">Ekonomika:</span>
                <span class="dimension-value">0.8 (soci√°ln√≠ tr≈æn√≠)</span>
            </div>
            <div class="dimension">
                <span class="dimension-name">Role st√°tu:</span>
                <span class="dimension-value">0.5 (aktivn√≠)</span>
            </div>
            <div class="dimension">
                <span class="dimension-name">Spoleƒçnost:</span>
                <span class="dimension-value">-0.2 (m√≠rnƒõ liber√°ln√≠)</span>
            </div>
            <div class="dimension">
                <span class="dimension-name">Suverenita:</span>
                <span class="dimension-value">-0.5 (pro-EU)</span>
            </div>
        </div>
        <div class="expected-position">
            <strong>Oƒçek√°van√° pozice:</strong><br>
            ‚Ä¢ Kvadrant 1 (Eko√óSt√°t): Prav√Ω st≈ôed (st√°tn√≠ ekonomika + aktivn√≠ st√°t)<br>
            ‚Ä¢ Kvadrant 2 (Spoleƒçnost√óSuverenita): Lev√Ω horn√≠ kvadrant (liber√°ln√≠ + glob√°ln√≠)<br>
            ‚Ä¢ Kvadrant 3 (Eko√óSpoleƒçnost): Prav√° horn√≠ ƒç√°st (st√°tn√≠ + liber√°ln√≠)<br>
            ‚Ä¢ Kvadrant 4 (St√°t√óSuverenita): St≈ôed-prav√Ω horn√≠ (aktivn√≠ st√°t + pro-EU)
        </div>
        <button onclick="testScenario('leftcentrist')">Otestovat levicov√©ho centristu</button>
    </div>

    <div class="scenario">
        <h2>‚í∂ Sc√©n√°≈ô 4: Levicov√Ω anarchista</h2>
        <p><strong>Popis:</strong> Proti kapitalismu i st√°tu, maxim√°ln√≠ osobn√≠ svobody, komunitn√≠ organizace</p>
        <div class="dimensions">
            <div class="dimension">
                <span class="dimension-name">Ekonomika:</span>
                <span class="dimension-value">1.5 (antikapitalismus)</span>
            </div>
            <div class="dimension">
                <span class="dimension-name">Role st√°tu:</span>
                <span class="dimension-value">-1.8 (bez st√°tu)</span>
            </div>
            <div class="dimension">
                <span class="dimension-name">Spoleƒçnost:</span>
                <span class="dimension-value">-1.5 (radik√°lnƒõ liber√°ln√≠)</span>
            </div>
            <div class="dimension">
                <span class="dimension-name">Suverenita:</span>
                <span class="dimension-value">-1.0 (internacion√°ln√≠)</span>
            </div>
        </div>
        <div class="expected-position">
            <strong>Oƒçek√°van√° pozice:</strong><br>
            ‚Ä¢ Kvadrant 1 (Eko√óSt√°t): Prav√Ω horn√≠ roh (antikapitalismus + bez st√°tu)<br>
            ‚Ä¢ Kvadrant 2 (Spoleƒçnost√óSuverenita): Lev√Ω horn√≠ roh (radik√°lnƒõ liber√°ln√≠ + glob√°ln√≠)<br>
            ‚Ä¢ Kvadrant 3 (Eko√óSpoleƒçnost): Prav√Ω horn√≠ roh (antikapitalismus + liber√°ln√≠)<br>
            ‚Ä¢ Kvadrant 4 (St√°t√óSuverenita): Lev√Ω horn√≠ kvadrant (bez st√°tu + internacion√°ln√≠)
        </div>
        <button onclick="testScenario('anarchist')">Otestovat anarchistu</button>
    </div>

    <div class="results" id="results">
        <h3>V√Ωsledky testu</h3>
        <div id="results-content"></div>
    </div>

    <script>
        const scenarios = {
            libertarian: {
                name: "Libertari√°n",
                economy: -1.5,
                state: -1.5,
                society: -1.0,
                sovereignty: 0.0
            },
            conservative: {
                name: "N√°rodn√≠ konzervativec",
                economy: 0.6,
                state: 1.1,
                society: 1.2,
                sovereignty: 2.0
            },
            leftcentrist: {
                name: "Levicov√Ω centrista",
                economy: 0.8,
                state: 0.5,
                society: -0.2,
                sovereignty: -0.5
            },
            anarchist: {
                name: "Levicov√Ω anarchista",
                economy: 1.5,
                state: -1.8,
                society: -1.5,
                sovereignty: -1.0
            }
        };

        async function testScenario(scenarioKey) {
            const scenario = scenarios[scenarioKey];
            const resultsDiv = document.getElementById('results');
            const resultsContent = document.getElementById('results-content');
            
            resultsDiv.style.display = 'block';
            resultsContent.innerHTML = `<p>Testov√°n√≠ sc√©n√°≈ôe: <strong>${scenario.name}</strong></p>`;
            
            // Simulace odpovƒõd√≠ na ot√°zky
            const answers = simulateAnswers(scenario);
            
            // Odesl√°n√≠ na API
            try {
                const response = await fetch('http://localhost:8888/.netlify/functions/api-calculate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ answers })
                });
                
                const result = await response.json();
                
                resultsContent.innerHTML += `
                    <h4>Vypoƒçten√© pozice:</h4>
                    <ul>
                        <li>Ekonomika: ${result.userPosition.economy.toFixed(2)} (oƒçek√°v√°no: ${scenario.economy})</li>
                        <li>Role st√°tu: ${result.userPosition.state.toFixed(2)} (oƒçek√°v√°no: ${scenario.state})</li>
                        <li>Spoleƒçnost: ${result.userPosition.society.toFixed(2)} (oƒçek√°v√°no: ${scenario.society})</li>
                        <li>Suverenita: ${result.userPosition.sovereignty.toFixed(2)} (oƒçek√°v√°no: ${scenario.sovereignty})</li>
                    </ul>
                    <h4>Top 3 nejbli≈æ≈°√≠ strany:</h4>
                    <ol>
                        ${result.matches.slice(0, 3).map(m => 
                            `<li>${m.party}: ${m.match.toFixed(1)}%</li>`
                        ).join('')}
                    </ol>
                `;
                
                // Otev≈ôen√≠ v√Ωsledk≈Ø v hlavn√≠ aplikaci
                localStorage.setItem('testScenario', JSON.stringify({
                    name: scenario.name,
                    position: result.userPosition
                }));
                
                resultsContent.innerHTML += `
                    <p><strong>‚úÖ Test dokonƒçen!</strong> 
                    <a href="http://localhost:8888/#vysledky" target="_blank">Zobrazit v kompasu ‚Üí</a></p>
                `;
                
            } catch (error) {
                resultsContent.innerHTML += `<p style="color: red;">Chyba: ${error.message}</p>`;
            }
        }

        function simulateAnswers(scenario) {
            // Simulace odpovƒõd√≠ na z√°kladƒõ pozic
            const answers = {};
            
            // Mapov√°n√≠ ID ot√°zek podle dimenz√≠ z api-questions.js
            const questionsByDimension = {
                economy: [1, 2, 3, 4, 5, 6, 7],
                state: [8, 9, 10, 11, 12, 13, 14],
                society: [15, 16, 17, 18, 19, 20, 21],
                sovereignty: [22, 23, 24, 25, 26, 27, 28]
            };
            
            // Generov√°n√≠ odpovƒõd√≠ pro ka≈ædou dimenzi
            // Pou≈æ√≠v√°me p≈ô√≠mo hodnoty sc√©n√°≈ôe jako odpovƒõdi (-2 a≈æ +2)
            questionsByDimension.economy.forEach(id => {
                answers[id] = scenario.economy;
            });
            
            questionsByDimension.state.forEach(id => {
                answers[id] = scenario.state;
            });
            
            questionsByDimension.society.forEach(id => {
                answers[id] = scenario.society;
            });
            
            questionsByDimension.sovereignty.forEach(id => {
                answers[id] = scenario.sovereignty;
            });
            
            return answers;
        }
    </script>
</body>
</html>